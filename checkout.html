<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./styles/Reset.css">
    <link rel="stylesheet" href="./styles/CheckoutStyle.css">
  <link rel = "stylesheet" type="text/css" href="./styles/style1.css">
</head>
<body>
<header>

  <div class="header" id="pageHeader">
    <div>
      <a href="#default" class="logo"><img class="bolt-logo" src="./pics/bolt-logo.png" alt=""></a>
    </div>
    <div>
      <input class="input" type="text" placeholder="search" id="search"></input>
    </div>
    <div class="header-right_container">
      <ul class="header-right">
        <li><a href="login.php"  id="log">Log In</a></li>

        <li><a href="signup.php" id="reg">Sign up</a></li>

        <li><select id="sel">
          <option>English</option>
          <option>Lithuanian</option>
          <option>Russian</option>
          <option>Polish</option>
        </select></li>

        <li><a href ="checkout"><img src="./pics/SHOPPING_CART.svg" id="cart"></a></li>
      </ul>
    </div>
  </div>
</header>

<div class="checkoutForm">
  <div class="Order">
    <div class="OrderHeader">
      <h1>Checkout</h1>
    </div>
    <div class="ordered">
      <h2>Your order:</h2>
    </div>
    <ul id="list" class="CheckoutList">
    </ul>
  </div>
</div>
<script src='./scripts/shoppingCart.js'>
</script>
<script>
  loadCart();
  window.onload = createList();

  function createList(){
    var ul = document.getElementById("list");
    var li;
    alert(cart.length);
    for(var i in cart){
      li = document.createElement("li");
      li.appendChild(document.createTextNode(cart[i].name + " \n " + cart[i].price + " € "));
      var x = document.createElement("input");
      x.setAttribute("type", "checkbox");
      x.setAttribute("class", "check");
      x.setAttribute("onchange", "recountTotal()");
      li.appendChild(x);
      ul.appendChild(li);
    }
    li = document.createElement("li");
    li.setAttribute("id", "totale");
    li.appendChild(document.createTextNode("Total: " + totalCost() + " €"));
    ul.appendChild(li);

    xid = document.getElementsByClassName('check');
    alert(xid.length);
    for(var i in xid){
      xid[i].checked = true;
    }
  }

  function recountTotal(){
    var items = document.getElementsByClassName('check');
    var total = 0;
    for(var i = 0; i < items.length; i++){
      if(items[i].checked){
        total += cart[i].amount * cart[i].price;
      }
    }
    document.getElementById('totale').innerHTML = "Total: " + total + " €";
  }
</script>
</body>
</html>
